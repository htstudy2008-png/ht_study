<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To√°n 12 - H&T STUDY</title>

    <link rel="stylesheet" href="../css/style.css">

    <script src="../../../dang-nhap/js/auth.js"></script>
    <script>
        // KI·ªÇM TRA ƒêƒÇNG NH·∫¨P
        if (typeof requireAuth === "function") {
            requireAuth();
        }

        // KI·ªÇM TRA QUY·ªÄN TRUY C·∫¨P KH√ìA
        document.addEventListener("DOMContentLoaded", () => {
            const user = JSON.parse(localStorage.getItem("currentUser"));
            if (!user) return;

            document.body.classList.add("logged-in");

            const ownedCourses = JSON.parse(localStorage.getItem("courses")) || [];

            if (ownedCourses.includes("toan12")) {
                document.body.classList.add("has-course-access");
            } else {
                document.body.classList.add("no-course-access");
            }
        });
    </script>
</head>
<body>

<header class="header">
    <div class="menu-icon" onclick="toggleMenu()">‚ò∞</div>

    <nav id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleMenu()">&times;</a>
        <a href="../../../trang_chu/html/index.html">Trang ch·ªß</a>

        <div class="sidebar-section">
            <span class="sidebar-title">To√°n</span>
            <a href="../../toan10/html/Toan10.html">To√°n 10</a>
            <a href="../../toan11/html/Toan11.html">To√°n 11</a>
            <a href="Toan12.html" class="active">To√°n 12</a>
        </div>

        <div class="sidebar-section">
            <span class="sidebar-title">H√≥a</span>
            <a href="../../../Hoa/hoa10/html/Hoa10.html">H√≥a 10</a>
            <a href="../../../Hoa/hoa11/html/Hoa11.html">H√≥a 11</a>
            <a href="../../../Hoa/hoa12/html/Hoa12.html">H√≥a 12</a>
        </div>

        <a href="../../../dang-nhap/html/login.html" id="auth-button-sidebar">ƒêƒÉng nh·∫≠p</a>
    </nav>

    <div class="logo-title">
        <img src="../../../hinh_anh/logo.png" alt="H&T STUDY Logo">
        <span class="site-title">H&T STUDY</span>
    </div>

    <nav class="top-nav">
        <ul>
            <li><a href="../../../trang_chu/html/index.html">Trang ch·ªß</a></li>

            <li class="dropdown">
                <a href="#" class="active">To√°n</a>
                <ul class="dropdown-menu">
                    <li><a href="../../toan10/html/Toan10.html">To√°n 10</a></li>
                    <li><a href="../../toan11/html/Toan11.html">To√°n 11</a></li>
                    <li><a href="Toan12.html" class="active">To√°n 12</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="#">H√≥a</a>
                <ul class="dropdown-menu">
                    <li><a href="../../../Hoa/hoa10/html/Hoa10.html">H√≥a 10</a></li>
                    <li><a href="../../../Hoa/hoa11/html/Hoa11.html">H√≥a 11</a></li>
                    <li><a href="../../../Hoa/hoa12/html/Hoa12.html">H√≥a 12</a></li>
                </ul>
            </li>
        </ul>
    </nav>

        <div class="user-menu">
        <button class="avatar-btn" id="avatar-btn">HS</button>
        <div class="user-dropdown" id="user-dropdown">
            <div class="user-dropdown-inner">
                <div class="user-label">H·ªçc sinh</div>
                <div class="user-name" id="user-name-display">Ch∆∞a ƒëƒÉng nh·∫≠p</div>
                <div class="user-code" id="user-code-display">M√£ h·ªçc sinh: ---</div>
                <hr>
                <button class="user-dropdown-link" id="btn-my-courses">Kh√≥a h·ªçc c·ªßa t√¥i</button>
                <button class="user-dropdown-link" id="btn-guide">H∆∞·ªõng d·∫´n</button>
                <button class="user-dropdown-link" id="btn-change-avatar">ƒê·ªïi avatar</button>
                <button class="user-dropdown-link user-auth-btn" id="user-auth-btn">ƒêƒÉng nh·∫≠p</button>
            </div>
        </div>
    </div>
    <input type="file" id="avatar-file" accept="image/*" style="display:none">
    <div id="avatar-alert" style="display:none;"></div>
</header>

<main class="content">

    <!-- üéØ BANNER GI·ªêNG TRONG ·∫¢NH -->
    <section class="course-hero">
        <div class="course-hero-inner">

            <div class="thumb-box">
                <span class="thumb-tag">KH√ìA TR·∫¢I NGHI·ªÜM</span>
                <img src="../../../hinh_anh/logo.png" alt="To√°n 12" style="width:180px;">
            </div>

            <div class="course-meta">
                <h1>KH√ìA TO√ÅN 12</h1>

                <div class="course-stats">
                    <div class="stat"><strong>0</strong><br>Th·ªùi gian</div>
                    <div class="stat"><strong>23</strong><br>B√†i h·ªçc</div>
                    <div class="stat"><strong>10.000+</strong><br>H·ªçc vi√™n</div>
                    <div class="stat"><strong>5/5</strong><br>ƒê√°nh gi√°</div>
                </div>

                <div class="course-price">1.000.000 ƒë</div>

                <button id="btn-view-course" class="btn-primary">
                    Xem n·ªôi dung kh√≥a h·ªçc
                </button>
            </div>
        </div>
    </section>

    <!-- N·ªòI DUNG KH√ìA H·ªåC (CH·ªà HI·ªÜN KHI ƒê√É MUA) -->
    <div id="course-content" class="card" style="margin-top:40px; display:none;">
        <h2>N·ªôi dung b√†i gi·∫£ng</h2>
        <p>‚Ä¢ Video b√†i gi·∫£ng 1</p>
        <p>‚Ä¢ Video b√†i gi·∫£ng 2</p>
        <p>‚Ä¢ Video b√†i gi·∫£ng 3</p>
    </div>

</main>

<footer>
    <p>&copy; 2025 H&T STUDY</p>
</footer>

<script>
function toggleMenu() {
    document.getElementById("sidebar").classList.toggle("open");
}

// ·∫®n/hi·ªán n·ªôi dung theo quy·ªÅn access
document.addEventListener("DOMContentLoaded", () => {
    const hasAccess = document.body.classList.contains("has-course-access");
    if (hasAccess) {
        document.getElementById("course-content").style.display = "block";
    }
});
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const avatarBtn = document.getElementById("avatar-btn");
    const dropdown = document.getElementById("user-dropdown");

    if (!avatarBtn || !dropdown) return;

    // Click avatar -> toggle menu
    avatarBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        dropdown.classList.toggle("open");
    });

    // Click ra ngo√†i -> ƒë√≥ng menu
    document.addEventListener("click", () => {
        dropdown.classList.remove("open");
    });

    // Click trong menu -> kh√¥ng ƒë√≥ng
    dropdown.addEventListener("click", (e) => {
        e.stopPropagation();
    });
});
</script>

</body>
</html>


