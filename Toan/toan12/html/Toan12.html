<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Toán 12 - H&T STUDY</title>

    <link rel="stylesheet" href="../css/style.css">

    <script src="../../../dang-nhap/js/auth.js"></script>
    <script>
        // KIỂM TRA ĐĂNG NHẬP
        if (typeof requireAuth === "function") {
            requireAuth();
        }

        // KIỂM TRA QUYỀN TRUY CẬP KHÓA
        document.addEventListener("DOMContentLoaded", () => {
            const user = JSON.parse(localStorage.getItem("currentUser"));
            if (!user) return;

            document.body.classList.add("logged-in");

            const ownedCourses = JSON.parse(localStorage.getItem("courses")) || [];

            if (ownedCourses.includes("toan12")) {
                document.body.classList.add("has-course-access");
            } else {
                document.body.classList.add("no-course-access");
            }
        });
    </script>
</head>
<body><div class="sidebar-overlay" id="sidebar-overlay"></div>
<header class="header">
    <div class="menu-icon">☰</div>

    <nav id="sidebar" class="sidebar">
        <a href="javascript:void(0)" class="closebtn">&times;</a>
        <a href="../../../trang_chu/html/index.html">Trang chủ</a>

        <div class="sidebar-section">
            <span class="sidebar-title">Toán</span>
            <a href="../../toan10/html/Toan10.html">Toán 10</a>
            <a href="../../toan11/html/Toan11.html">Toán 11</a>
            <a href="Toan12.html" class="active">Toán 12</a>
        </div>

        <div class="sidebar-section">
            <span class="sidebar-title">Hóa</span>
            <a href="../../../Hoa/hoa10/html/Hoa10.html">Hóa 10</a>
            <a href="../../../Hoa/hoa11/html/Hoa11.html">Hóa 11</a>
            <a href="../../../Hoa/hoa12/html/Hoa12.html">Hóa 12</a>
        </div>

        <a href="../../../dang-nhap/html/login.html" id="auth-button-sidebar">Đăng nhập</a>
    </nav>

    <div class="logo-title">
        <img src="../../../hinh_anh/logo.png" alt="H&T STUDY Logo">
        <span class="site-title">H&T STUDY</span>
    </div>

    <nav class="top-nav">
        <ul>
            <li><a href="../../../trang_chu/html/index.html">Trang chủ</a></li>

            <li class="dropdown">
                <a href="#" class="active">Toán</a>
                <ul class="dropdown-menu">
                    <li><a href="../../toan10/html/Toan10.html">Toán 10</a></li>
                    <li><a href="../../toan11/html/Toan11.html">Toán 11</a></li>
                    <li><a href="Toan12.html" class="active">Toán 12</a></li>
                </ul>
            </li>

            <li class="dropdown">
                <a href="#">Hóa</a>
                <ul class="dropdown-menu">
                    <li><a href="../../../Hoa/hoa10/html/Hoa10.html">Hóa 10</a></li>
                    <li><a href="../../../Hoa/hoa11/html/Hoa11.html">Hóa 11</a></li>
                    <li><a href="../../../Hoa/hoa12/html/Hoa12.html">Hóa 12</a></li>
                </ul>
            </li>
        </ul>
    </nav>

        <div class="user-menu">
        <button class="avatar-btn" id="avatar-btn">HS</button>
        <div class="user-dropdown" id="user-dropdown">
            <div class="user-dropdown-inner">
                <div class="user-label">Học sinh</div>
                <div class="user-name" id="user-name-display">Chưa đăng nhập</div>
                <div class="user-code" id="user-code-display">Mã học sinh: ---</div>
                <hr>
                <button class="user-dropdown-link" id="btn-my-courses">Khóa học của tôi</button>
                <button class="user-dropdown-link" id="btn-guide">Hướng dẫn</button>
                <button class="user-dropdown-link" id="btn-change-avatar">Đổi avatar</button>
                <button class="user-dropdown-link user-auth-btn" id="user-auth-btn">Đăng nhập</button>
            </div>
        </div>
    </div>
    <input type="file" id="avatar-file" accept="image/*" style="display:none">
    <div id="avatar-alert" style="display:none;"></div>
</header>
<footer>
    <p>&copy; 2025 H&T STUDY</p>
</footer>
    <script>
    function toggleMenu() {
        const sidebar = document.getElementById("sidebar");
        sidebar.classList.toggle("open");
    }

    // Click ra ngoài sidebar để đóng
    document.addEventListener("click", function (e) {
        const sidebar = document.getElementById("sidebar");
        const menuIcon = document.querySelector(".menu-icon");

        if (
            sidebar.classList.contains("open") &&
            !sidebar.contains(e.target) &&
            !menuIcon.contains(e.target)
        ) {
            sidebar.classList.remove("open");
        }
    });
</script>
<script>
document.addEventListener("DOMContentLoaded", function () {

    const sidebar = document.getElementById("sidebar");
    const menuIcon = document.querySelector(".menu-icon");
    const closeBtn = sidebar.querySelector(".closebtn");
    const overlay = document.getElementById("sidebar-overlay");

    if (!sidebar || !menuIcon || !overlay || !closeBtn) {
        console.error("Sidebar elements missing");
        return;
    }

    let startX = 0;
    let currentX = 0;

    function openSidebar() {
        sidebar.classList.add("open");
        overlay.classList.add("show");
        document.body.style.overflow = "hidden";
    }

    function closeSidebar() {
        sidebar.classList.remove("open");
        overlay.classList.remove("show");
        document.body.style.overflow = "";
    }

    // Mở sidebar
    menuIcon.addEventListener("click", function (e) {
        e.stopPropagation();
        openSidebar();
    });

    // Đóng bằng nút ×
    closeBtn.addEventListener("click", function (e) {
        e.stopPropagation();
        closeSidebar();
    });

    // Click overlay để đóng
    overlay.addEventListener("click", closeSidebar);

    // Swipe để đóng (mobile)
    sidebar.addEventListener("touchstart", function (e) {
        startX = e.touches[0].clientX;
    });

    sidebar.addEventListener("touchmove", function (e) {
        currentX = e.touches[0].clientX;
        if (currentX - startX < -60) {
            closeSidebar();
        }
    });

    // Resize lên desktop thì reset
    window.addEventListener("resize", function () {
        if (window.innerWidth > 768) {
            closeSidebar();
        }
    });

});
</script>

</body>
</html>


















